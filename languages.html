<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Select Language</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      font-family: sans-serif;
      text-align: center;
      padding: 40px 20px;
    }
    #searchBar {
      padding: 10px;
      width: 90%;
      max-width: 400px;
      font-size: 16px;
      margin-bottom: 15px;
    }
    #langSelect {
      width: 90%;
      max-width: 400px;
      padding: 10px;
      font-size: 16px;
    }
    button {
      margin-top: 20px;
      padding: 12px 24px;
      font-size: 16px;
      background-color: #007bff;
      color: white;
      border: none;
      border-radius: 6px;
    }
  </style>
</head>
<body>

  <h2>Select Your Language</h2>

  <!-- üîç Search bar -->
  <input type="text" id="searchBar" placeholder="Search language...">

  <!-- üåç Language dropdown -->
  <select id="langSelect" size="10"></select>

  <!-- üåê Auto detect -->
  <p style="margin-top: 10px;">
    <a href="#" onclick="autoDetect()" style="color:#007bff;">üåê Detect Automatically</a>
  </p>

  <button onclick="setLang()">Continue</button>

  <script>
    const languages = {
      "af": "Afrikaans",
      "am": "·ä†·àõ·à≠·äõ (Amharic)",
      "ar": "ÿßŸÑÿπÿ±ÿ®Ÿäÿ© (Arabic)",
      "az": "Az…ôrbaycanca",
      "be": "–ë–µ–ª–∞—Ä—É—Å–∫–∞—è",
      "bg": "–ë—ä–ª–≥–∞—Ä—Å–∫–∏",
      "bn": "‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ (Bengali)",
      "bs": "Bosanski",
      "ca": "Catal√†",
      "ceb": "Cebuano",
      "cs": "ƒåe≈°tina",
      "cy": "Cymraeg",
      "da": "Dansk",
      "de": "Deutsch",
      "el": "ŒïŒªŒªŒ∑ŒΩŒπŒ∫Œ¨",
      "en": "English",
      "eo": "Esperanto",
      "es": "Espa√±ol",
      "et": "Eesti",
      "eu": "Euskara",
      "fa": "ŸÅÿßÿ±ÿ≥€å",
      "fi": "Suomi",
      "fr": "Fran√ßais",
      "fy": "Frysk",
      "ga": "Gaeilge",
      "gd": "G√†idhlig",
      "gl": "Galego",
      "gu": "‡™ó‡´Å‡™ú‡™∞‡™æ‡™§‡´Ä",
      "ha": "Hausa",
      "haw": " ª≈ålelo Hawai ªi",
      "he": "◊¢◊ë◊®◊ô◊™",
      "hi": "‡§π‡§ø‡§Ç‡§¶‡•Ä",
      "hmn": "Hmong",
      "hr": "Hrvatski",
      "ht": "Krey√≤l Ayisyen",
      "hu": "Magyar",
      "hy": "’Ä’°’µ’•÷Ä’•’∂",
      "id": "Bahasa Indonesia",
      "ig": "Igbo",
      "is": "√çslenska",
      "it": "Italiano",
      "ja": "Êó•Êú¨Ë™û",
      "jv": "Basa Jawa",
      "ka": "·É•·Éê·É†·Éó·É£·Éö·Éò",
      "kk": "“ö–∞–∑–∞“õ –¢—ñ–ª—ñ",
      "km": "·ûó·û∂·ûü·û∂·ûÅ·üí·ûò·üÇ·ûö",
      "kn": "‡≤ï‡≤®‡≥ç‡≤®‡≤°",
      "ko": "ÌïúÍµ≠Ïñ¥",
      "ku": "Kurd√Æ",
      "ky": "–ö—ã—Ä–≥—ã–∑—á–∞",
      "la": "Latina",
      "lb": "L√´tzebuergesch",
      "lo": "‡∫•‡∫≤‡∫ß",
      "lt": "Lietuvi≈≥",
      "lv": "Latvie≈°u",
      "mg": "Malagasy",
      "mi": "MƒÅori",
      "mk": "–ú–∞–∫–µ–¥–æ–Ω—Å–∫–∏",
      "ml": "‡¥Æ‡¥≤‡¥Ø‡¥æ‡¥≥‡¥Ç",
      "mn": "–ú–æ–Ω–≥–æ–ª",
      "mr": "‡§Æ‡§∞‡§æ‡§†‡•Ä",
      "ms": "Bahasa Melayu",
      "mt": "Malti",
      "my": "·Äô·Äº·Äî·Ä∫·Äô·Ä¨·ÄÖ·Ä¨",
      "ne": "‡§®‡•á‡§™‡§æ‡§≤‡•Ä",
      "nl": "Nederlands",
      "no": "Norsk",
      "ny": "Chichewa",
      "pa": "‡®™‡©∞‡®ú‡®æ‡®¨‡©Ä",
      "pl": "Polski",
      "ps": "Ÿæ⁄öÿ™Ÿà",
      "pt": "Portugu√™s",
      "ro": "Rom√¢nƒÉ",
      "ru": "–†—É—Å—Å–∫–∏–π",
      "rw": "Kinyarwanda",
      "sd": "ÿ≥ŸÜ⁄åŸä",
      "si": "‡∑É‡∑í‡∂Ç‡∑Ñ‡∂Ω",
      "sk": "Slovenƒçina",
      "sl": "Sloven≈°ƒçina",
      "sm": "Gagana SƒÅmoa",
      "sn": "ChiShona",
      "so": "Soomaali",
      "sq": "Shqip",
      "sr": "–°—Ä–ø—Å–∫–∏",
      "st": "Sesotho",
      "su": "Basa Sunda",
      "sv": "Svenska",
      "sw": "Kiswahili",
      "ta": "‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç",
      "te": "‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å",
      "tg": "–¢–æ“∑–∏–∫”£",
      "th": "‡πÑ‡∏ó‡∏¢",
      "tk": "T√ºrkmen",
      "tl": "Tagalog",
      "tr": "T√ºrk√ße",
      "tt": "–¢–∞—Ç–∞—Ä—á–∞",
      "ug": "ÿ¶€áŸäÿ∫€áÿ±⁄Ü€ï",
      "uk": "–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞",
      "ur": "ÿßÿ±ÿØŸà",
      "uz": "O ªzbekcha",
      "vi": "Ti·∫øng Vi·ªát",
      "xh": "isiXhosa",
      "yi": "◊ô◊ô÷¥◊ì◊ô◊©",
      "yo": "Yor√πb√°",
      "zh-CN": "‰∏≠Êñá (Simplified)",
      "zh-TW": "‰∏≠Êñá (Traditional)",
      "zu": "isiZulu"
    };

    const langSelect = document.getElementById("langSelect");
    const searchBar = document.getElementById("searchBar");

    // Populate language list
    function populateLanguages(filter = "") {
      langSelect.innerHTML = "";
      for (const [code, name] of Object.entries(languages)) {
        if (name.toLowerCase().includes(filter.toLowerCase())) {
          const opt = document.createElement("option");
          opt.value = code;
          opt.textContent = name;
          langSelect.appendChild(opt);
        }
      }
    }

    // Auto detect browser language
    function autoDetect() {
      const lang = navigator.language || navigator.userLanguage || "en";
      let shortLang = lang;
      if (!languages[lang]) {
        shortLang = lang.split('-')[0];
      }
      if (languages[shortLang]) {
        localStorage.setItem("userLang", shortLang);
        alert("Language auto-detected: " + languages[shortLang]);
        window.location.href = "index.html";
      } else {
        alert("Language not supported. Please select manually.");
      }
    }

    // Set selected language
    function setLang() {
      const selected = langSelect.value;
      if (selected) {
        localStorage.setItem("userLang", selected);
        window.location.href = "index.html";
      }
    }

    // Filter search
    searchBar.addEventListener("input", () => {
      const val = searchBar.value;
      populateLanguages(val);
    });

    // Initial load
    populateLanguages();
  </script>

</body>
</html>
